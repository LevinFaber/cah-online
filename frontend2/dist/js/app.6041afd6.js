(function(t){function a(a){for(var r,n,i=a[0],l=a[1],d=a[2],c=0,m=[];c<i.length;c++)n=i[c],o[n]&&m.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(a);while(m.length)m.shift()();return s.push.apply(s,d||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],r=!0,i=1;i<e.length;i++){var l=e[i];0!==o[l]&&(r=!1)}r&&(s.splice(a--,1),t=n(n.s=e[0]))}return t}var r={},o={app:0},s=[];function n(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=r,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)n.d(e,r,function(a){return t[a]}.bind(null,r));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=a,i=i.slice();for(var d=0;d<i.length;d++)a(i[d]);var u=l;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0656":function(t,a,e){},1:function(t,a){},"19d4":function(t,a,e){},"32e2":function(t,a,e){},"4f49":function(t,a,e){"use strict";var r=e("b744"),o=e.n(r);o.a},"56d7":function(t,a,e){"use strict";e.r(a);var r=e("2b0e"),o=e("bb71");e("da64");r["a"].use(o["a"],{iconfont:"md"});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("title-bar",{attrs:{title:"",roomName:t.roomName,roomPw:t.roomPw,userName:t.userName}}),e("v-content",[e("v-layout",{attrs:{id:"content",row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-card",[e("control",{directives:[{name:"show",rawName:"v-show",value:!t.isConnected,expression:"!isConnected"}],attrs:{uuid:t.uuid}})],1),e("game",{directives:[{name:"show",rawName:"v-show",value:t.isConnected,expression:"isConnected"}],attrs:{game:{userName:t.userName,roomName:t.roomName,roomPw:t.roomPw,uuid:t.uuid}}})],1)],1)],1)],1)},n=[],i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-toolbar",{attrs:{app:"",id:"toolbar",height:"80px"}},[e("v-toolbar-title",{staticClass:"headline",domProps:{textContent:t._s(t.title)},on:{click:function(a){t.darkMode=!t.darkMode}}},[t._v(" "+t._s(t.title))]),e("v-spacer")],1)},l=[],d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-form",[e("v-text-field",{attrs:{error:t.userError,"error-messages":t.userErrorMsg,outline:"",label:"Name"},model:{value:t.userName,callback:function(a){t.userName=a},expression:"userName"}}),e("v-text-field",{attrs:{error:t.roomError,outline:"",label:"Room Name"},model:{value:t.roomName,callback:function(a){t.roomName=a},expression:"roomName"}}),e("v-text-field",{attrs:{error:t.roomError,"error-messages":t.roomErrorMsg,outline:"",label:"Room Password"},model:{value:t.roomPw,callback:function(a){t.roomPw=a},expression:"roomPw"}}),e("v-btn",{attrs:{outline:""},on:{click:t.join}},[t._v("Join")]),e("v-btn",{attrs:{outline:""},on:{click:t.create}},[t._v("Create")])],1)],1)},u=[],c={name:"Control",props:{uuid:String},data(){return{userName:"",roomName:"",roomPw:"",roomError:!1,roomErrorMsg:"",userError:!1,userErrorMsg:""}},created(){const t=new URLSearchParams(window.location.search);this.$data.roomName=t.get("room"),this.$data.roomPw=t.get("pw")},methods:{emit(t,a){this.$socket.emit(t,{room:this.$data.roomName,pw:this.$data.roomPw,uuid:this.uuid,...a})},join(){this.emit("joinRoom",{name:this.$data.userName})},create(){this.emit("newRoom",{name:this.$data.userName})}},sockets:{error_msg_room(t){this.$data.roomError=!0,this.$data.roomErrorMsg=[...this.$data.roomErrorMsg,t.message],console.error(t.message)},error_msg_user(t){this.$data.userError=!0,this.$data.userErrorMsg=[...this.$data.userErrorMsg,t.message],console.error(t.message)}}},m=c,v=e("2877"),h=e("6544"),p=e.n(h),f=e("8336"),g=e("a523"),y=e("4bd4"),w=e("2677"),b=Object(v["a"])(m,d,u,!1,null,null,null);b.options.__file="Control.vue";var x=b.exports;p()(b,{VBtn:f["a"],VContainer:g["a"],VForm:y["a"],VTextField:w["a"]});var _={name:"TitleBar",props:{roomName:String,roomPw:String,userName:String},components:{Control:x},data(){return{title:"cards.levin.pw"}}},C=_,$=(e("5854"),e("9910")),P=e("71d9"),k=e("2a7f"),N=Object(v["a"])(C,i,l,!1,null,null,null);N.options.__file="TitleBar.vue";var V=N.exports;p()(N,{VSpacer:$["a"],VToolbar:P["a"],VToolbarTitle:k["a"]});var E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-layout",{attrs:{row:"",wrap:"",id:"game"}},[e("v-flex",{attrs:{xs8:""}},[e("playingfield",{attrs:{game:t.game}})],1),e("v-flex",{attrs:{xs4:""}},[e("v-layout",{attrs:{column:"","fill-height":"true"}},[e("v-flex",{attrs:{xs12:"","fill-height":"true"}},[e("v-card",[e("playerlist")],1)],1),e("v-flex",{attrs:{xs12:"","fill-height":"true"}},[t._v("\n          //TODO Chat\n          "),e("chat"),e("v-card")],1)],1)],1)],1)},O=[],j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.isRunning,expression:"isRunning"}],attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"black-card",attrs:{xs2:""}},[e("v-card",{staticClass:"white--text",attrs:{color:"black"}},[e("v-card-title",{attrs:{"primary-title":""}},[e("div",{staticClass:"headline"},[t._v(t._s(t.blackCard.text))])]),e("v-card-text",[e("span",{staticClass:"text-xs-right"},[t._v(t._s(t.blackCard.pick))])])],1)],1),t.yourPlayedCards.length>0?e("v-flex",{attrs:{xs2:""}},[e("v-card",{attrs:{color:"pink",height:"220px"}},t._l(t.yourPlayedCards,function(a){return e("v-card-text",{key:a},[e("div",{class:{headline:t.yourPlayedCards.length<2}},[t._v(t._s(a))])])}))],1):t._e(),t._l(t.allPlayedCards,function(a){return e("v-flex",{key:a.uuid,attrs:{xs2:""}},[e("v-card",{attrs:{height:"220px"}},[t._l(a.answer,function(r){return e("v-card-text",{key:r.toString()},[e("div",{class:{headline:a.answer.length<2}},[t._v(t._s(r))])])}),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.mayVote,expression:"mayVote"}],attrs:{flat:""},on:{click:function(e){t.addVote(a.uuid)}}},[t._v("\n              Vote\n            ")])],2)],1)}),e("v-flex",{attrs:{xs12:""}},[e("v-layout",{attrs:{row:"",wrap:""}},t._l(t.yourCards,function(a){return e("v-flex",{key:a,attrs:{column:"",xs2:""}},[e("v-card",{attrs:{height:"220px"}},[e("v-layout",{staticClass:"yourCards",attrs:{column:""}},[e("v-card-title",[e("div",{staticClass:"headline"},[t._v(t._s(a))])]),e("v-card-actions",[e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.mayPlay,expression:"mayPlay"}],attrs:{flat:""},on:{click:function(e){t.playCard(a)}}},[t._v("\n                Choose\n              ")])],1)],1)],1)],1)}))],1)],2),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isRunning,expression:"!isRunning"}],staticClass:"text-xs-center"},[e("v-btn",{attrs:{outline:""},on:{click:t.startGame}},[t._v("\n        Start Game\n    ")])],1),e("Dialog",{attrs:{dialogData:t.dialogData}})],1)},D=[],S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{"max-width":"50%"},model:{value:t.dialogData.show,callback:function(a){t.$set(t.dialogData,"show",a)},expression:"dialogData.show"}},[e("v-card",[e("v-card-title",[e("div",{staticClass:"headline"},[t._v("\n        "+t._s(t.dialogData.headline)+"\n      ")])]),e("v-layout",{attrs:{row:""}},t._l(t.dialogData.data,function(a,r){return e("v-flex",{key:a.uuid,attrs:{xs4:""}},[e("v-card",{attrs:{color:t.color(r),height:"100%"}},[e("v-layout",{staticClass:"result-card",attrs:{column:""}},[e("v-card-title",t._l(a.text,function(a){return e("div",{key:a,staticClass:"headline"},[t._v("\n                  "+t._s(a)+" \n                ")])})),e("v-card-text",[t._v(" \n                Points: "+t._s(a.points)+"\n              ")])],1)],1)],1)})),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{outline:""},on:{click:function(a){t.dialogData.show=!1}}},[t._v("\n        OK\n      ")])],1)],1)],1)},T=[],R={name:"Dialog",props:{dialogData:Object},data(){return{}},methods:{color(t){switch(t){case 0:return"#FFEB3B";case 1:return"#E0E0E0";case 2:return"#F57C00";default:return"white"}}}},M=R,A=(e("4f49"),e("b0af")),F=e("99d9"),B=e("12b2"),G=e("169a"),U=e("0e8f"),L=e("a722"),z=Object(v["a"])(M,S,T,!1,null,null,null);z.options.__file="Dialog.vue";var J=z.exports;p()(z,{VBtn:f["a"],VCard:A["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:B["a"],VDialog:G["a"],VFlex:U["a"],VLayout:L["a"],VSpacer:$["a"]});var I={components:{Dialog:J},name:"Playingfield",props:{game:Object},data(){return{roundNr:0,yourCards:[],yourPlayedCards:[],allPlayedCards:[],blackCard:{},vote:[],dialogData:{},isRunning:!1,mayPlay:!0,mayVote:!1}},methods:{emit(t,a){console.log({room:this.game.roomName,pw:this.game.roomPw,uuid:this.game.uuid,...a}),this.$socket.emit(t,{room:this.game.roomName,pw:this.game.roomPw,uuid:this.game.uuid,...a})},playCard(t){if(this.$data.yourPlayedCards.length<this.$data.blackCard.pick&&(this.$data.yourPlayedCards=[...this.$data.yourPlayedCards,t],this.$data.yourPlayedCards.length===this.$data.blackCard.pick))return this.$data.mayPlay=!1,void this.emit("playCard",{textArray:this.$data.yourPlayedCards,roundNr:this.$data.roundNr})},addVote(t){if(this.$data.vote.length<this.$data.allPlayedCards.length&&(this.$data.vote=[...this.$data.vote,t],this.$data.vote.length===this.$data.allPlayedCards.length))return this.$data.mayVote=!1,void this.emit("vote",{vote:this.$data.vote})},startGame(){console.log("StartGame"),this.emit("startRound",{room:this.game.roomName,pw:this.game.roomPw})}},sockets:{roundStart(t){console.log(t),this.$data.vote=[],this.$data.yourPlayedCards=[],this.$data.allPlayedCards=[],this.$data.mayPlay=!0,this.$data.mayVote=!1,this.$data.isRunning=!0;const{roundNr:a,blackCard:e}=t;this.$data.blackCard=e,this.$data.roundNr=a},roundEnd(t){let a=Object.keys(t).map(a=>{return{uuid:a,text:t[a].answer,points:t[a].points}});a=a.sort((t,a)=>{return a.points-t.points}),this.$data.dialogData={show:!0,headline:"Results",data:a}},yourCards(t){this.$data.yourCards=t},allAnswers(t){Object.keys(t).forEach(a=>{a===this.game.uuid&&(this.$data.yourPlayedCards=t[a].answer),"blackCard"!==a&&a!==this.game.uuid&&(this.$data.allPlayedCards=[...this.$data.allPlayedCards,{answer:t[a].answer,uuid:a}])}),this.$data.mayVote=!0},gameEnd(t){const a=t.sort((t,a)=>a.points-t.points),e=a.map(t=>{return{text:[t.name],points:t.points}});this.$data.dialogData={show:!0,headline:"Game Over, Results:",data:e}}}},q=I,K=(e("dbc9"),Object(v["a"])(q,j,D,!1,null,"2972b546",null));K.options.__file="Playingfield.vue";var W=K.exports;p()(K,{VBtn:f["a"],VCard:A["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:B["a"],VFlex:U["a"],VLayout:L["a"]});var H=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-data-table",{staticClass:"elevation-1",attrs:{items:t.players,headers:t.headers,"hide-actions":"","must-sort":""},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",[e("v-icon",{directives:[{name:"show",rawName:"v-show",value:a.item.czar,expression:"props.item.czar"}]},[t._v("speaker_notes")])],1),e("td",{staticClass:"text-xs-right"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-right"},[t._v(t._s(a.item.points))])]}}])})},Q=[],X={name:"Playerlist",props:{uuid:String},data(){return{headers:[{value:"czar",sortable:!1,text:"Czar"},{value:"player",sortable:!1,text:"Players"},{value:"points",sortable:!0,text:"Points"}],players:[]}},sockets:{allPlayers(t){this.$data.players=t}}},Y=X,Z=e("8fea"),tt=e("132d"),at=Object(v["a"])(Y,H,Q,!1,null,null,null);at.options.__file="Playerlist.vue";var et=at.exports;p()(at,{VDataTable:Z["a"],VIcon:tt["a"]});var rt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h3",[t._v("Todo: Chat")])},ot=[],st={},nt=st,it=(e("f196"),Object(v["a"])(nt,rt,ot,!1,null,null,null));it.options.__file="Chat.vue";var lt=it.exports,dt={name:"Game",props:{game:Object},components:{Playerlist:et,Chat:lt,Playingfield:W}},ut=dt,ct=(e("68e4"),Object(v["a"])(ut,E,O,!1,null,null,null));ct.options.__file="Game.vue";var mt=ct.exports;p()(ct,{VCard:A["a"],VFlex:U["a"],VLayout:L["a"]});var vt={name:"App",components:{TitleBar:V,Control:x,Game:mt},data(){return{title:"cards.levin.pw",isConnected:!1,userName:"",roomName:"",roomPw:"",uuid:this.generateUUID()}},methods:{generateUUID:()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))},sockets:{connect(){console.log("%c Successesfully established Websocket Connection!!","color: green")},error_msg(t){console.error(t.message)},chat(t){console.log(`Chat from ${t.from}: "${t.message}"`)},confirmJoin(t){this.$data.isConnected=!0,this.$data.roomName=t.roomName,this.$data.roomPw=t.roomPw,this.$data.userName=t.userName}}},ht=vt,pt=(e("c20a"),e("7496")),ft=e("549c"),gt=Object(v["a"])(ht,s,n,!1,null,"2e41851c",null);gt.options.__file="App.vue";var yt=gt.exports;p()(gt,{VApp:pt["a"],VCard:A["a"],VContent:ft["a"],VFlex:U["a"],VLayout:L["a"]});var wt=e("9483");Object(wt["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached(){console.log("Content has been cached for offline use.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var bt=e("f87c"),xt=e("4bea"),_t=e.n(xt);r["a"].use(bt["a"],_t()("http://localhost:8000/")),r["a"].config.productionTip=!1,new r["a"]({render:t=>t(yt)}).$mount("#app")},5854:function(t,a,e){"use strict";var r=e("19d4"),o=e.n(r);o.a},"68e4":function(t,a,e){"use strict";var r=e("0656"),o=e.n(r);o.a},9574:function(t,a,e){},b744:function(t,a,e){},c20a:function(t,a,e){"use strict";var r=e("32e2"),o=e.n(r);o.a},dbc9:function(t,a,e){"use strict";var r=e("fe1a"),o=e.n(r);o.a},f196:function(t,a,e){"use strict";var r=e("9574"),o=e.n(r);o.a},fe1a:function(t,a,e){}});
//# sourceMappingURL=app.6041afd6.js.map